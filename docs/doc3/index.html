<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-alpha.63">
<title data-react-helmet="true">This is Document Number 3 | Godot</title><meta data-react-helmet="true" name="docsearch:version" content="current,latest"><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="This is Document Number 3 | Godot"><meta data-react-helmet="true" name="description" content="Uniforms"><meta data-react-helmet="true" property="og:description" content="Uniforms"><meta data-react-helmet="true" property="og:url" content="https://codebachi.github.io/godot/godot/docs/doc3"><link data-react-helmet="true" rel="shortcut icon" href="/godot/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://codebachi.github.io/godot/godot/docs/doc3"><link rel="stylesheet" href="/godot/styles.5bd25225.css">
<link rel="preload" href="/godot/styles.0503f101.js" as="script">
<link rel="preload" href="/godot/runtime~main.b3ae2269.js" as="script">
<link rel="preload" href="/godot/main.6c594e2e.js" as="script">
<link rel="preload" href="/godot/1.6b053ff9.js" as="script">
<link rel="preload" href="/godot/2.426f8ec7.js" as="script">
<link rel="preload" href="/godot/3.d4e5a013.js" as="script">
<link rel="preload" href="/godot/1be78505.0c3ffa7b.js" as="script">
<link rel="preload" href="/godot/33.0fac06f4.js" as="script">
<link rel="preload" href="/godot/935f2afb.1828952b.js" as="script">
<link rel="preload" href="/godot/17896441.322cffbb.js" as="script">
<link rel="preload" href="/godot/616665f6.255c86f3.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a class="navbar__brand" href="/godot/"><img class="navbar__logo" src="/godot/img/logo.svg" alt="Godot Logo"><strong class="navbar__title">Godot</strong></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/godot/docs/">Docs</a><a class="navbar__item navbar__link" href="/godot/blog">Blog</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/godotengine/godot" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_2aTZ"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_BsTx">🌜</span></div><div class="react-toggle-track-x"><span class="toggle_BsTx">🌞</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/godot/"><img class="navbar__logo" src="/godot/img/logo.svg" alt="Godot Logo"><strong class="navbar__title">Godot</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link navbar__link--active" href="/godot/docs/">Docs</a></li><li class="menu__list-item"><a class="menu__link" href="/godot/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/godotengine/godot" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_2gpo"><div class="docSidebarContainer_3_JD" role="complementary"><div class="sidebar_2urC"><div class="menu menu--responsive menu_5FrY"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_Dm3K" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">셰이더</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/godot/docs/">Style Guide</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/godot/docs/doc2">Hello World</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/godot/docs/doc3">This is Document Number 3</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/godot/docs/doc4">Doc 4</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SDL2</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/godot/docs/sdl">SDL2 1</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Features</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/godot/docs/mdx">Powered by MDX</a></li></ul></li></ul></div></div></div><main class="docMainContainer_3EyW"><div class="container padding-vert--lg docItemWrapper_1EkI"><div class="row"><div class="col docItemCol_2ASc"><div class="docItemContainer_3QWW"><article><header><h1 class="docTitle_1Lrw">This is Document Number 3</h1></header><div class="markdown"><h1><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2cZh" id="uniforms"></a>Uniforms<a aria-hidden="true" tabindex="-1" class="hash-link" href="#uniforms" title="Direct link to heading">#</a></h1><p>So far we have seen how the GPU manages large numbers of parallel threads, each one responsible for assigning the color to a fraction of the total image. </p><p>각 병렬 쓰레드는 Although each parallel thread is blind to the others, we need to be able to send some inputs from the CPU to all the threads. Because of the architecture of the graphics card those inputs are going to be equal (uniform) to all the threads and necessarily set as read only. </p><p>즉, 각 쓰레드들은 같은 데이터를 받는다는 말입죠. 그 데이터는 읽을수는 있으나 바꿀 수는 없어유.
이 입력값들을 unifirm 이라고 하고 다수의 타입들을 지원합니다:
float, vec2, vec3, vec4, mat2, mat3, mat4, sampler2D and samplerCube. </p><p>Uniforms are defined with the corresponding type at the top of the shader right after assigning the default floating point precision.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">ifdef</span><span class="token macro property"> GL_ES</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">precision mediump </span><span class="token keyword" style="font-style:italic">float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">endif</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform vec2 u_resolution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">  </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Canvas size (width,height)</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform vec2 u_mouse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// mouse position in screen pixels</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> u_time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain">       </span><span class="token comment" style="color:rgb(105, 112, 152);font-style:italic">// Time in seconds since load</span></div></div></div></div></div><p>유니폼을 CPU와 GPU 사이의 다리라고 생각하면 됩니다. The names will vary from implementation to implementation but in this series of examples I’m always passing: </p><table><thead><tr><th>uniforms</th><th>설명</th></tr></thead><tbody><tr><td>vec2 <b><i>u_resolution</i></b></td><td>billboard size where the shader is being drawn</td></tr><tr><td>vec2 <b><i>u_mouse</i></b></td><td>mouse position inside the billboard in pixels</td></tr><tr><td>float <b><i>u_time</i></b></td><td>time in seconds since the shader started</td></tr></tbody></table><p>I’m following the convention of putting u_ before the uniform name to be explicit about the nature of this variable but you will find all kinds of names for uniforms. For example ShaderToy.com uses the same uniforms but with the following names:</p><table><thead><tr><th>uniform</th><th>dd</th></tr></thead><tbody><tr><td>uniform vec3 <b><i>iResolution</i></b></td><td>viewport resolution (in pixels)</td></tr><tr><td>uniform vec4 <b><i>iMouse</i></b></td><td>mouse pixel coords. xy: current, zw: click</td></tr><tr><td>uniform float <b><i>iTime</i></b></td><td>shader playback time (in seconds)</td></tr></tbody></table><p>Enough talking, let&#x27;s see the uniforms in action. In the following code we use <code>u_time</code> - 셰이더가 시작하고 the number of seconds since the shader started running - together with a sine function to animate the transition of the amount of red in the billboard.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">ifdef</span><span class="token macro property"> GL_ES</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">precision mediump </span><span class="token keyword" style="font-style:italic">float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">endif</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> u_time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gl_FragColor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vec4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">abs</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token function" style="color:rgb(130, 170, 255)">sin</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">u_time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>As you can see GLSL has more surprises. The GPU has hardware accelerated angle, trigonometric and exponential functions. Some of those functions are: sin(), cos(), tan(), asin(), acos(), atan(), pow(), exp(), log(), sqrt(), abs(), sign(), floor(), ceil(), fract(), mod(), min(), max() and clamp().</p><p>Now it is time again to play with the above code.</p><p>Slow down the frequency until the color change becomes almost imperceptible.</p><p>Speed it up until you see a single color without flickering.</p><p>Play with the three channels (RGB) in different frequencies to get interesting patterns and behaviors.
gl_FragCoord
In the same way GLSL gives us a default output, vec4 gl_FragColor, it also gives us a default input, vec4 gl_FragCoord, which holds the screen coordinates of the pixel or screen fragment that the active thread is working on. With vec4 gl_FragCoord, we know where a thread is working inside the billboard. In this case we don&#x27;t call it uniform because it will be different from thread to thread, instead gl_FragCoord is called a varying.</p><div class="mdxCodeBlock_1XEh"><div class="codeBlockContent_1u-d"><button type="button" aria-label="Copy code to clipboard" class="copyButton_10dd">Copy</button><div tabindex="0" class="prism-code language-c codeBlock_3iAC"><div class="codeBlockLines_b7E3" style="color:#bfc7d5;background-color:#292d3e"><div class="token-line" style="color:#bfc7d5"><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">ifdef</span><span class="token macro property"> GL_ES</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">precision mediump </span><span class="token keyword" style="font-style:italic">float</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token macro property">#</span><span class="token macro property directive keyword" style="font-style:italic">endif</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform vec2 u_resolution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform vec2 u_mouse</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">uniform </span><span class="token keyword" style="font-style:italic">float</span><span class="token plain"> u_time</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block">
</span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token keyword" style="font-style:italic">void</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">main</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    vec2 st </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> gl_FragCoord</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">xy</span><span class="token operator" style="color:rgb(137, 221, 255)">/</span><span class="token plain">u_resolution</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain">    gl_FragColor </span><span class="token operator" style="color:rgb(137, 221, 255)">=</span><span class="token plain"> </span><span class="token function" style="color:rgb(130, 170, 255)">vec4</span><span class="token punctuation" style="color:rgb(199, 146, 234)">(</span><span class="token plain">st</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">x</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain">st</span><span class="token punctuation" style="color:rgb(199, 146, 234)">.</span><span class="token plain">y</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">0.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token number" style="color:rgb(247, 140, 108)">1.0</span><span class="token punctuation" style="color:rgb(199, 146, 234)">)</span><span class="token punctuation" style="color:rgb(199, 146, 234)">;</span><span class="token plain"></span></div><div class="token-line" style="color:#bfc7d5"><span class="token plain"></span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span></div></div></div></div></div><p>In the above code we normalize the coordinate of the fragment by dividing it by the total resolution of the billboard. By doing this the values will go between 0.0 and 1.0, which makes it easy to map the X and Y values to the RED and GREEN channel.</p><p>In shader-land we don’t have too many resources for debugging besides assigning strong colors to variables and trying to make sense of them. You will discover that sometimes coding in GLSL is very similar to putting ships inside bottles. Is equally hard, beautiful and gratifying.</p><p>Now it is time to try and challenge our understanding of this code.</p><p>Can you tell where the coordinate (0.0, 0.0) is in our canvas?</p><p>What about (1.0, 0.0), (0.0, 1.0), (0.5, 0.5) and (1.0, 1.0)?</p><p>Can you figure out how to use u_mouse knowing that the values are in pixels and NOT normalized values? Can you use it to move colors around?</p><p>Can you imagine an interesting way of changing this color pattern using u_time and u_mouse coordinates?
After doing these exercises you might wonder where else you can try your new shader-powers. In the following chapter we will see how to make your own shader tools in three.js, Processing, and openFrameworks.</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/facebook/docusaurus/edit/master/website/docs/doc3.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" viewBox="0 0 40 40" style="margin-right:0.3em;vertical-align:sub"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Blog list page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/godot/docs/doc2"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">« Hello World</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/godot/docs/doc4"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Doc 4 »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_3SO_"></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><h4 class="footer__title">Docs</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/godot/docs/">Style Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/godot/docs/doc2/">Second Doc</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">Community</h4><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow</a></li><li class="footer__item"><a href="https://discordapp.com/invite/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Discord</a></li><li class="footer__item"><a href="https://twitter.com/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter</a></li></ul></div><div class="col footer__col"><h4 class="footer__title">More</h4><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/godot/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub</a></li></ul></div></div><div class="text--center"><div>Copyright © 2020 My Project, Inc. Built with Docusaurus.</div></div></div></footer></div>
<script src="/godot/styles.0503f101.js"></script>
<script src="/godot/runtime~main.b3ae2269.js"></script>
<script src="/godot/main.6c594e2e.js"></script>
<script src="/godot/1.6b053ff9.js"></script>
<script src="/godot/2.426f8ec7.js"></script>
<script src="/godot/3.d4e5a013.js"></script>
<script src="/godot/1be78505.0c3ffa7b.js"></script>
<script src="/godot/33.0fac06f4.js"></script>
<script src="/godot/935f2afb.1828952b.js"></script>
<script src="/godot/17896441.322cffbb.js"></script>
<script src="/godot/616665f6.255c86f3.js"></script>
</body>
</html>